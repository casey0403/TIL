# TIL



## Batch getNextUid 문제
- SEQ 붙은 Table에 마지막 num 기입해주어야함. 
- 원래는 자동으로 들어가야하는데 문제가 있나봄.


## @Component @Bean @Autowired
- @ComponentScan 란,
@Component, @Service, @Repository, @Controller, @Configuration 어노테이션이 붙은 클래스 Bean 들을 찾아서 Context에 bean 등록을 해주는 어노테이션입니다.

![image](https://user-images.githubusercontent.com/104426801/183817907-8e21082d-c8c9-476a-a27b-d61e76cf6b7e.png)

- @Bean 이란,
@Bean 어노테이션은 개발자가 직접 제어가 불가능한 외부 라이브러리 등을 Bean으로 만들려고 할 때 사용됩니다.
* (name = "") 옵션이 있고, 해당 옵션을 사용하지 않는다면 method 이름을 camelCase로 변경한 것이 bean id로 등록됩니다.

- @Bean과 같이 알아야 할 @Configuration
@Configuration 어노테이션은 해당 클래스에서 1개 이상의 Bean을 생성하고 있음을 명시합니다.
그러므로 @Bean 어노테이션을 사용하는 클래스는 반드시 @Configuration과 함께 사용되어야 합니다,



- @Autowired,  @Qualifier
@Autowired는 field(속성) , setter, method, constructor(생성자)에서 사용하며 Type에 따라 자동으로 bean을 주입합니다.
Type을 먼저 확인하여 못 찾는 경우에는 name에 따라서 bean을 주입합니다.
이때 해당 타입의 bean 객체가 존재하지 않거나, 2개 이상 존재할 경우 스프링은 예외가 발생합니다.
같은 타입의 bean이 두 개 이상 존재하는 경우, 어떤 bean을 주입해야 할지 알 수 없기 때문에 스프링 컨테이너를 초기화하는 과정에서 예외가 발생하는데요. 이 경우 @Qualifier 어노테이션을 @Autowired와 함께 사용하여 어떤 bean을 사용할지 명시할 수 있습니다.
* 추가적으로 @Autowired를 사용할 경우 순환 참조가 발생할 수 있기 때문에 @Autowired 보다 생성자 주입 방식이 더 권장되고 있습니다.


(참고) https://wildeveloperetrain.tistory.com/26


## @JsonSerialize
- 최종 response할 때 JSON으로 바꿀 때 사용됨
- controller 의 response 에 붙여야 원하는 결과를 얻을 수 있음.

